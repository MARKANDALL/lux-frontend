/* features/balloon/balloon.css */

/* Container: Floats, bobs, and moves up/down via JS */
#lux-balloon-wrapper {
  position: fixed;
  bottom: 40px; /* Base position, JS will lift this as it grows */
  right: 40px;
  width: 100px;
  height: 140px; /* Taller to accommodate string */
  z-index: 9999;
  pointer-events: none;
  
  /* Chaotic Bobbing */
  animation: 
    wanderX 5s ease-in-out infinite alternate,
    wanderY 6s ease-in-out infinite alternate;
  
  transition: bottom 0.5s ease; /* Smooth lift when growing */
}

/* The Balloon Visual (3D Sphere) */
#lux-balloon {
  width: 50px;
  height: 62px;
  border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
  
  /* 3D Shading (Base color set by JS) */
  background: radial-gradient(circle at 35% 35%, 
              rgba(255,255,255,0.8) 0%, 
              rgba(255,255,255,0.2) 20%, 
              transparent 50%);
              
  /* Deep rim shadows for roundness */
  box-shadow: 
    inset -5px -5px 15px rgba(0,0,0,0.4), /* Dark bottom-right */
    inset 2px 2px 5px rgba(255,255,255,0.4), /* Top-left catchlight */
    2px 8px 15px rgba(0,0,0,0.3); /* Drop shadow */
    
  pointer-events: auto;
  
  /* --- CURSOR MAGIC: Transform mouse into a Tack ðŸ“Œ --- */
  /* Hotspot is set to 0 20 (bottom-left tip of the pin usually) */
  cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' style='font-size:24px'><text y='24'>ðŸ“Œ</text></svg>") 0 20, pointer;
  
  /* Swelling transition */
  transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Center in wrapper */
  position: absolute;
  top: 40%;
  left: 50%;
  margin-left: -25px; /* Half width */
  margin-top: -31px;  /* Half height */
}

/* The Shine (Specular Highlight) */
#lux-balloon::before {
  content: "";
  position: absolute;
  top: 15%;
  left: 20%;
  width: 12px;
  height: 20px;
  border-radius: 50%;
  background: rgba(255,255,255,0.7);
  transform: rotate(-45deg);
  filter: blur(1px);
}

/* The String */
#lux-balloon::after {
  content: "";
  position: absolute;
  top: 98%; /* Just under the knot */
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: 40px; /* Longer string */
  background: rgba(255,255,255,0.6); /* White-ish string looks better on varied backgrounds */
  box-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

/* Bobbing Keyframes */
@keyframes wanderX {
  0% { transform: translateX(-5px) rotate(-3deg); }
  100% { transform: translateX(5px) rotate(3deg); }
}
@keyframes wanderY {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-15px); }
}

/* Tooltip (Left Side) */
#lux-balloon-tip {
  position: absolute;
  right: 110%;
  top: 40%;
  background: #1e293b;
  color: #fff;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 700;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s, transform 0.2s;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
#lux-balloon:hover + #lux-balloon-tip {
  opacity: 1;
  transform: translateX(-5px);
}

/* --- CONFETTI PHYSICS --- */
.lux-confetti {
  position: absolute;
  width: 8px;
  height: 8px;
  top: 40%; /* Start at balloon center */
  left: 50%;
  opacity: 1;
  pointer-events: none;
  border-radius: 2px;
}

/* Explode OUT, then drift DOWN */
@keyframes confettiFall {
  0% { transform: translate(0,0) rotate(0deg); opacity: 1; }
  20% { transform: translate(var(--x), var(--y-up)) rotate(120deg); opacity: 1; } /* Explode out/up */
  100% { transform: translate(var(--x), 300px) rotate(720deg); opacity: 0; } /* Drift down */
}