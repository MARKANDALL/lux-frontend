<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lux — AI Conversations</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/7.8.11/wavesurfer.min.js"></script>

    <link rel="stylesheet" href="lux-layout.css" />
    <link rel="stylesheet" href="lux-convo.css" />

    <!-- Match main page typography -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="./features/features/tts-peekaboo.css" />
    <link rel="stylesheet" href="./features/features/tts/tts-overlay.css" />
    <link rel="stylesheet" href="./features/features/tts.css" />

    <link rel="stylesheet" href="./features/features/selfpb-peekaboo.css" />
    <link rel="stylesheet" href="./features/features/self-playback.css" />

    <style id="lux-tts-guard-style">
      #tts-controls { display: none !important; }
    </style>
  </head>

  <body>
    <audio id="playbackAudio" hidden></audio>
    <div id="tts-controls" data-luxHidden="1"></div>
    <div id="self-playback-drawer-target"></div>

    <!-- Match primary page layout structure -->
    <div id="container">
      <h2>AI Conversations</h2>
      <div class="lux-toplinks">
        <a class="lux-toplink" href="./index.html">← Pronunciation Test</a>
      </div>

      <div id="convoApp"></div>
    </div>

    <script type="module">
      import { bootTTS } from "./features/features/tts/boot-tts.js";
      if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", bootTTS);
      else bootTTS();
    </script>

    <script type="module" src="./src/convo.js"></script>
  </body>
</html>
