/* lux-widgets.metric-modal.css */
/* Metric explainer modal styles */

/* ============================================================
   Metric Modal
   ============================================================ */
.lux-metricModal{
  position: fixed;
  inset: 0;
  z-index: 10050;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
}

.lux-metricCard{
  width: min(740px, 96vw);
  max-height: 90vh;
  overflow: auto;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 24px 60px rgba(0,0,0,0.22);
  padding: 22px 22px 18px;
  position: relative;
}

.lux-metricClose{
  position: absolute;
  top: 12px;
  right: 12px;
  width: 42px;
  height: 42px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,0.10);
  background: rgba(255,255,255,0.92);
  cursor: pointer;
  font-size: 26px;
  line-height: 1;
  color: #64748b;
}
.lux-metricClose:hover{
  background: #fff;
  color: #0f172a;
}

/* ============================================================
   Card typography
   ============================================================ */
.lux-metricTop{
  text-align: center;
  padding-top: 6px;
}

.lux-metricTitle{
  font-weight: 950;
  font-size: 1.05rem;
  color:#334155;
}

/* PATCH 1 changed class from .lux-metricBig -> .lux-metricScore */
.lux-metricScore{
  font-weight: 1000;
  font-size: 2rem;
  color:#0f172a;
  margin-top: 6px;
}

.lux-metricBlurb{
  margin-top: 8px;
  color:#64748b;
  font-weight: 800;
  line-height: 1.35;
}

/* Note block: shown when we only have summary-level attempt data */
.lux-metricNote{
  margin-top: 14px;
  border: 1px dashed rgba(0,0,0,0.16);
  background: rgba(248,250,252,0.65);
  border-radius: 14px;
  padding: 12px 14px;
}
.lux-metricNoteTitle{
  font-weight: 950;
  color:#0f172a;
  margin-bottom: 6px;
}
.lux-metricNoteBody{
  color:#334155;
  font-weight: 700;
  line-height: 1.35;
}

/* Keep legacy in case any older modal uses it */
.lux-metricBig{
  font-weight: 1000;
  font-size: 2rem;
  color:#0f172a;
  margin-top: 6px;
}

/* ============================================================
   Legacy KV blocks (still used in some sections)
   ============================================================ */
.lux-metricGrid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.lux-metricKV{
  border: 1px solid rgba(0,0,0,0.08);
  background: rgba(248,250,252,0.7);
  border-radius: 14px;
  padding: 10px 12px;
}
.lux-metricKV-k{
  color:#64748b;
  font-weight: 900;
  font-size: 0.85rem;
}
.lux-metricKV-v{
  color:#0f172a;
  font-weight: 1000;
  font-size: 1.05rem;
  margin-top: 2px;
}

.lux-metricSubhead{
  margin-top: 6px;
  font-weight: 950;
  color:#334155;
}

.lux-metricChips{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
}
.lux-metricChip{
  border: 1px solid rgba(0,0,0,0.10);
  background: rgba(255,255,255,0.85);
  border-radius: 999px;
  padding: 6px 10px;
  font-weight: 950;
  color:#0f172a;
  font-size: 0.85rem;
}

.lux-metricList{
  margin: 8px 0 0;
  padding-left: 18px;
  color:#334155;
  font-weight: 800;
  line-height: 1.4;
}

.lux-metricFoot{
  border-top: 1px dashed rgba(0,0,0,0.12);
  margin-top: 12px;
  padding-top: 10px;
  color:#475569;
  font-weight: 800;
}

/* ============================= */
/*  Modal segmentation + clarity */
/* ============================= */

.lux-metricSection{
  margin-top: 14px;
}

.lux-metricSectionTitle{
  font-size: 15px;
  font-weight: 800;
  margin-bottom: 10px;
}

/* Body wrapper inside sections */
.lux-metricSectionBody{
  color:#334155;
  font-weight: 800;
  line-height: 1.45;
}

/* Collapsible section (details) */
.lux-metricSection--details{
  border-top: 1px solid rgba(0,0,0,0.06);
  padding-top: 10px;
}

/* Summary should look like a section header */
.lux-metricSection--details > summary{
  cursor: pointer;
  user-select: none;
  list-style: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 6px;
}

/* Remove default marker */
.lux-metricSection--details > summary::-webkit-details-marker{
  display:none;
}

.lux-metricSection--details > summary::after{
  content: "▸";
  opacity: 0.65;
  transform: translateY(-1px);
  transition: transform 160ms ease;
}

.lux-metricSection--details[open] > summary::after{
  transform: rotate(90deg) translateX(-1px);
}

/* ============================= */
/*  Bullets spacing              */
/* ============================= */

/* PATCH: your JS uses .lux-metricBullets */
.lux-metricBullets{
  margin: 0;
  padding-left: 18px;
}

.lux-metricBullets li{
  margin: 6px 0;
  line-height: 1.35;
}

/* Optional support if older code uses these */
.lux-bullets{
  margin: 0;
  padding-left: 18px;
}
.lux-bullets li{
  margin: 6px 0;
  line-height: 1.35;
}

/* Details blocks inside “How this score is measured” */
.lux-metricDetails{
  margin-top: 10px;
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 14px;
  padding: 10px 12px;
  background: rgba(248,250,252,0.75);
}
.lux-metricDetails summary{
  cursor: pointer;
  user-select: none;
  font-weight: 950;
  color:#0f172a;
}
.lux-metricDetailsBody{
  margin-top: 8px;
  color:#334155;
  font-weight: 800;
  line-height: 1.45;
}

/* ============================= */
/*  “What Lux found” mini tiles  */
/* ============================= */

.lux-metricKVGrid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
  margin-top: 10px;
}

.lux-kv{
  border: 1px solid rgba(0,0,0,0.10);
  background: #f8fafc;
  border-radius: 14px;
  padding: 10px 12px;
}

.lux-kv-label{
  font-size: 12px;
  font-weight: 700;
  opacity: 0.70;
  color:#0f172a;
}

.lux-kv-value{
  font-size: 16px;
  font-weight: 900;
  margin-top: 4px;
  color:#0f172a;
}

/* ============================= */
/*  Mini reveal (weak sounds/words) */
/* ============================= */
.lux-miniReveal{
  margin-top: 10px;
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 14px;
  padding: 8px 10px;
  background: rgba(248,250,252,0.70);
}
.lux-miniRevealTitle{
  cursor: pointer;
  user-select: none;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 950;
  color:#0f172a;
}
.lux-miniRevealTitle::-webkit-details-marker{ display:none; }
.lux-miniRevealBody{
  margin-top: 8px;
}
.lux-miniReveal[open] .lux-metricSummaryCaret{
  transform: rotate(90deg) translateX(-1px);
}

/* ============================= */
/*  Score meter bar (subtle)     */
/* ============================= */

.lux-metricMeter{
  width: 260px;
  max-width: 60%;
  height: 8px;
  border-radius: 999px;
  margin: 10px auto 0;
  background: rgba(0,0,0,0.08);
  overflow: hidden;
}

.lux-metricMeterFill{
  height: 100%;
  border-radius: 999px;
  background: #1e6fff;
}

/* ============================================================
   Responsive tweaks
   ============================================================ */
@media (max-width: 520px){
  .lux-metricCard{
    width: 96vw;
    padding: 18px 16px 14px;
  }
  .lux-metricKVGrid{
    grid-template-columns: 1fr;
  }
  .lux-metricMeter{
    max-width: 80%;
  }
}
